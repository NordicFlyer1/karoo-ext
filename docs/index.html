<!DOCTYPE html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>karoo-ext</title>
    <link href="images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async="async"></script>
<script type="text/javascript" src="scripts/sourceset_dependencies.js" async="async"></script>
<link href="styles/style.css" rel="Stylesheet">
<link href="styles/main.css" rel="Stylesheet">
<link href="styles/prism.css" rel="Stylesheet">
<link href="styles/logo-styles.css" rel="Stylesheet">
<link href="styles/font-jb-sans-auto.css" rel="Stylesheet">
<script type="text/javascript" src="scripts/clipboard.js" async="async"></script>
<script type="text/javascript" src="scripts/navigation-loader.js" async="async"></script>
<script type="text/javascript" src="scripts/platform-content-handler.js" async="async"></script>
<script type="text/javascript" src="scripts/main.js" defer="defer"></script>
<script type="text/javascript" src="scripts/prism.js" async="async"></script>
<script type="text/javascript" src="scripts/symbol-parameters-wrapper_deferred.js" defer="defer"></script>
</head>
<body>
    <div class="root">
<nav class="navigation" id="navigation-wrapper">
    <div class="navigation--inner">
        <div class="navigation-title">
            <button class="menu-toggle" id="menu-toggle" type="button">toggle menu</button>
            <div class="library-name">
                    <a class="library-name--link" href="index.html">
                            karoo-ext
                    </a>
            </div>
            <div class="library-version">
1.0.2            </div>
        </div>
        <div class="filter-section" id="filter-section">
                <button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":lib:dokkaHtml/release">androidJvm</button>
        </div>
    </div>
    <div class="navigation-controls">
        <button class="navigation-controls--btn navigation-controls--theme" id="theme-toggle-button" type="button">switch theme</button>
        <div class="navigation-controls--btn navigation-controls--search" id="searchBar" role="button">search in API</div>
    </div>
</nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="sidebar--inner" id="sideMenu"></div>
            </div>
            <div id="main">
<div class="main-content" id="content" pageIds="karoo-ext::////PointingToDeclaration//1946847589">
  <div class="breadcrumbs"></div>
  <div class="cover ">
    <h1 class="cover"><span><span>karoo-ext</span></span></h1>
    <div class="platform-hinted UnderCoverText" data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":lib:dokkaHtml/release"><p class="paragraph">Karoo Extensions can easily be added to an existing Android application. If you don't already have an Android application, create a new Android project now.</p><h3 class="">Dependency Setup</h3><p class="paragraph">Add <a href="https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-gradle-registry#using-a-published-package">Github package</a> repository to your buildscript in <code class="lang-kotlin">settings.gradle.kts</code>:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">dependencyResolutionManagement {<br>    // ...<br>    repositories {<br>        // ...<br>        maven {<br>            url = uri(&quot;https://maven.pkg.github.com/hammerheadnav/karoo-ext&quot;)<br>            credentials {<br>                username = project.findProperty(&quot;gpr.user&quot;) as String? ?: System.getenv(&quot;USERNAME&quot;)<br>                password = project.findProperty(&quot;gpr.key&quot;) as String? ?: System.getenv(&quot;TOKEN&quot;)<br>            }<br>        }<br>    }<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Add <code class="lang-kotlin">karoo-ext</code> dependency:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">implementation(&quot;io.hammerhead:karoo-ext:1.0.2&quot;)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Karoo System Service</h3><p class="paragraph">Karoo System Service can be included in any Android Activity or Service with:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">private val karooSystem = KarooSystemService(this)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph"><code class="lang-kotlin">karooSystem</code> exposes the ability dispatch effects to the system or consume events.</p><h4 class="">Karoo System Events</h4><p class="paragraph">Add a consumer with:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">val consumerId = karooSystem.addConsumer { rideState: RideState -&gt;<br>    println(&quot;Ride state is now $rideState&quot;)<br>}</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Be sure to clean up with:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">karooSystem.removeConsumer(consumerId)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h4 class="">Dispatching Karoo System Effects</h4><p class="paragraph">Send effects to the system with:</p><div class="sample-container"><pre><code class="block lang-kotlin" theme="idea">karooSystem.dispatch(PerformHardwareAction.ControlCenterComboPress)</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><h3 class="">Extension Implementation</h3><p class="paragraph">An extension service is required for the Karoo System to communicate with your application. This is not necessary for implementations that want to interact with Karoo by receiving events or performing actions.</p><h4 class="">Extension</h4><p class="paragraph">To enable your extension, create an Android service derived from <code class="lang-kotlin">KarooExtension</code>.</p><h5 class="">Registration</h5><p class="paragraph">In order to register your extension with the Karoo System, the following meta data should be added to your <code class="lang-kotlin">AndroidManifest.xml</code> within the <code class="lang-kotlin">&lt;service&gt;&lt;/service&gt;</code>.</p><p class="paragraph">Extension intent identifies this service as a Karoo Extension:</p><div class="sample-container"><pre><code class="block lang-xml" theme="idea">&lt;intent-filter&gt;<br>    &lt;action android:name=&quot;io.hammerhead.karooext.KAROO_EXTENSION&quot; /&gt;<br>&lt;/intent-filter&gt;</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Extension info provides an XML resource defining the extension's capabilities.</p><div class="sample-container"><pre><code class="block lang-xml" theme="idea">&lt;meta-data android:name=&quot;io.hammerhead.karooext.EXTENSION_INFO&quot; android:resource=&quot;@xml/extension_info&quot; /&gt;</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div><p class="paragraph">Extension Info XML resource (<code class="lang-kotlin">extension_info.xml</code>):</p><div class="sample-container"><pre><code class="block lang-xml" theme="idea">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;<br>&lt;ExtensionInfo displayName=&quot;@string/extension_name&quot; icon=&quot;@drawable/X&quot; id=&quot;&lt;extension-id&gt;&quot; scansDevices=&quot;true&quot;&gt;<br>    &lt;DataType description=&quot;@string/X&quot; displayName=&quot;@string/X&quot; graphical=&quot;true&quot; icon=&quot;@drawable/X&quot; typeId=&quot;&lt;type id&gt;&quot; /&gt;<br>    ...<br>    &lt;DataType... /&gt;<br>&lt;/ExtensionInfo&gt;</code></pre><span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
  <h2 class="">Packages</h2>
  <div class="table"><a data-name="-25236729%2FPackages%2F1946847589" anchor-label="io.hammerhead.karooext" id="-25236729%2FPackages%2F1946847589" data-filterable-set=":lib:dokkaHtml/release"></a>
    <div class="table-row" data-filterable-current=":lib:dokkaHtml/release" data-filterable-set=":lib:dokkaHtml/release">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="karoo-ext/io.hammerhead.karooext/index.html">io.hammerhead.karooext</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-25236729%2FPackages%2F1946847589"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">androidJvm</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
<a data-name="682597720%2FPackages%2F1946847589" anchor-label="io.hammerhead.karooext.extension" id="682597720%2FPackages%2F1946847589" data-filterable-set=":lib:dokkaHtml/release"></a>
    <div class="table-row" data-filterable-current=":lib:dokkaHtml/release" data-filterable-set=":lib:dokkaHtml/release">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="karoo-ext/io.hammerhead.karooext.extension/index.html">io.hammerhead.karooext.extension</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="682597720%2FPackages%2F1946847589"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">androidJvm</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
<a data-name="2075916680%2FPackages%2F1946847589" anchor-label="io.hammerhead.karooext.internal" id="2075916680%2FPackages%2F1946847589" data-filterable-set=":lib:dokkaHtml/release"></a>
    <div class="table-row" data-filterable-current=":lib:dokkaHtml/release" data-filterable-set=":lib:dokkaHtml/release">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="karoo-ext/io.hammerhead.karooext.internal/index.html">io.hammerhead.karooext.internal</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="2075916680%2FPackages%2F1946847589"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">androidJvm</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
<a data-name="-1457707723%2FPackages%2F1946847589" anchor-label="io.hammerhead.karooext.models" id="-1457707723%2FPackages%2F1946847589" data-filterable-set=":lib:dokkaHtml/release"></a>
    <div class="table-row" data-filterable-current=":lib:dokkaHtml/release" data-filterable-set=":lib:dokkaHtml/release">
      <div>
        <div class="main-subrow ">
          <div class=""><span class="inline-flex">
              <div><a href="karoo-ext/io.hammerhead.karooext.models/index.html">io.hammerhead.karooext.models</a></div>
<span class="anchor-wrapper"><span class="anchor-icon" pointing-to="-1457707723%2FPackages%2F1946847589"></span>
                <div class="copy-popup-wrapper "><span class="copy-popup-icon"></span><span>Link copied to clipboard</span></div>
              </span></span></div>
          <div class="pull-right">
            <div class="platform-tags no-gutters">
              <div class="platform-tag jvm-like">androidJvm</div>
            </div>
          </div>
        </div>
        <div></div>
      </div>
    </div>
  </div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>© 2024 Copyright</span><span
                class="pull-right"><span>Generated by </span><a
                href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
            </div>
        </div>
    </div>
</body>
</html>
